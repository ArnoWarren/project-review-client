<ng-include src="'views/notifications/growl.html'"></ng-include>

<div class="container margin-top-20 " ng-init="vm.init()" >
    <div class="panel panel-primary">
        <div class="panel-heading">
            {{vm.customField.name || 'My new Custom field'}}
            <label class="pull-right" ng-if="vm.customField.lastUpdated">Updated {{vm.customField.lastUpdated | date:"dd-MM-yyyy"}}</label>
        </div>
        <form novalidate name="panelForm">
        <div class="panel-body">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                <h5><i class="fa  fa-bars"></i> Properties</h5>
                <div class="well well-lg">

                    <div class="form-group">
                        <label>Name</label>
                        <div class="input-group">
                            <input class="form-control" ng-model="vm.customField.name" autofocus required>
                            <span class="input-group-addon"><i class="input-error glyphicon glyphicon-exclamation-sign"></i> <i class="input-ok fa fa-check-circle"></i></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Description</label>
                        <input class="form-control" ng-model="vm.customField.description" >
                    </div>

                    <div class="form-group">
                        <label>Type</label>
                        <div class="input-group">
                        <select ng-model="vm.customField.clazz" class="form-control" ng-disabled="vm.customField.id > 0" ng-required="true" >
                            <option value="User">User</option>
                            <option value="Container">Course</option>
                            <option value="Component">Component</option>
                            <option value="ClassroomEvent">Event</option>
                            <option value="JobDescription">Job Role</option>
                            <option value="TrainingGoal">Training Goal</option>
                            <option value="Venue">Venue</option>
                            <option value="Locality">Locality</option>
                            <option value="PerformanceDevelopmentReview">PDR</option>
                            <option value="GoalOutline">Course Outline</option>
                        </select>
                            <span class="input-group-addon"><i class="input-error glyphicon glyphicon-exclamation-sign"></i> <i class="input-ok fa fa-check-circle"></i></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Field Type</label>
                        <select ng-model="vm.customField.inputType" ng-change="vm.setInputType()" class="form-control">
                            <option value="normal">Text</option>
                            <option value="textarea">Large Text</option>
                            <option value="date">Date</option>
                            <option value="selection">Option List</option>
                        </select>
                    </div>



                    <div class="form-group">
                        <div class="checkbox checkbox-primary" >
                            <input ng-model="vm.customField.mandatory" id="mandatory" class="checkbox" type="checkbox" ng-value="false">
                            <label for="mandatory">Required</label>
                        </div>
                    </div>


                    <div class="form-group">
                        <div class="checkbox checkbox-primary" >
                            <input ng-model="vm.customField.includeInReports" id="includeInReports" class="checkbox" type="checkbox" ng-value="false">
                            <label for="includeInReports">Include in Reports</label>
                        </div>
                    </div>


                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                <h3><i class=""></i> Tip</h3>
                <div class="well well-lg clearfix">
                    <div class="col-xs-2">
                        <img src="img/information.jpeg" style="margin-right: 10px"/>
                    </div>
                    <div class="col-xs-10">
                        Custom Fields can be added to a variety of items. It allows an administrator to customise the data associated with items.
                    </div>
                </div>
            </div>
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6" ng-show="vm.customField.inputType == 'selection'">
                    <h5><i class="fa  fa-bars"></i> Options <i class="badge">{{vm.customField.customFieldOptions.length}}</i> </h5>
                    <div class="well well-lg clearfix">
                        <div class="list-group">
                            <div class="list-group-item" ng-repeat="option in vm.customField.customFieldOptions">
                                <div class="input-group">
                                    <input class="form-control" type="text" ng-model="option.value">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-remove pull-right" ng-click="vm.removeOption(option)" style="color: red"></i></span>
                                </div>

                            </div>
                        </div>
                        <div class="btn-group-justified">
                            <a class="btn btn-success" ng-click="vm.addOption()"><i class="fa fa-plus"></i> Add</a>
                        </div>
                    </div>
                </div>
            </div>
        <div class="panel-footer form-panel-footer">
            <div class="uib-button-bar">
                <a class="btn btn-sm btn-danger"
                        mwl-confirm
                        title="Please confirm you want to delete this user"
                        message="Are you sure you want to delete {{vm.customField.name}} ?"
                        cancel-text="Cancel"
                        animation="true"
                        placement="top"
                        on-confirm="vm.delete()"
                        confirm-button-type="danger"
                        cancel-button-type="default"><i class="glyphicon glyphicon-trash"></i> Delete</a>

                <button class="btn btn-sm btn-primary" ng-click="vm.back()"><i class="glyphicon glyphicon-remove"></i> Back</button>
                <button class="btn btn-sm btn-success" ng-click="vm.save()"><i class="fa fa-save"></i> Save</button>

            </div>
        </div>
        </form>

    </div>
</div>


