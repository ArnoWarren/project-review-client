<ng-include src="'views/notifications/growl.html'"></ng-include>

<div class="container margin-top-20 " ng-init="vm.init()">
    <div class="panel panel-primary">
        <div class="panel-heading">
            {{vm.succession.status | translate}} Succession Plan for {{vm.prProject.firstName}} {{vm.prProject.surname}}

            <div class="text-right col-xs-12" style="margin-top: -20px;">
                <label class="pull-right" ng-if="vm.rev">Revision {{vm.rev.timestamp | date : 'yyyy-mm-dd HH:mm'}}</label>
                <button class="btn btn-sm btn-primary action" ng-class="{'active' : vm.succession.status=='ACTIVE'}">
                    <i class="fa fa-check"></i> Active
                </button>

            </div>

        </div>
            <uib-tabset active="active">
                <uib-tab index="0" heading='Properties'>
                        <div class="panel-body">
                            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                <h5><i class="fa  fa-bars"></i> Properties</h5>
                                <div class="well well-lg">
                                    <ng-include src="'views/customFields/customFieldsTemplate.html'"></ng-include>
                                    <div class="form-group">
                                        <label>Project Director</label>
                                        <div class="input-group">
                                            <ui-select ng-model="vm.prPrject.projectDirector"
                                                       theme="bootstrap"
                                                       required
                                                       reset-search-input="false"
                                                       title="Choose an evaluation">
                                                <ui-select-match allow-clear='true' placeholder="Enter an evaluation...">{{$select.selected.name}}</ui-select-match>
                                                <ui-select-choices repeat="evaluation in vm.evaluations  | filter : $select.search track by evaluation.id">
                                                    <div ng-bind-html="evaluation.name | highlight: $select.search"></div>
                                                    <small>
                                                        Type: {{evaluation.componentType.name}}
                                                    </small>
                                                </ui-select-choices>
                                            </ui-select>
                                            <span class="input-group-addon"><i class="input-error glyphicon glyphicon-exclamation-sign"></i> <i class="input-ok fa fa-check-circle"></i></span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Project Leader</label>
                                        <div class="input-group">
                                            <ui-select ng-model="vm.prPrject.projectDirector"
                                                       theme="bootstrap"
                                                       required
                                                       reset-search-input="false"
                                                       title="Choose an evaluation">
                                                <ui-select-match allow-clear='true' placeholder="Enter an evaluation...">{{$select.selected.name}}</ui-select-match>
                                                <ui-select-choices repeat="evaluation in vm.evaluations  | filter : $select.search track by evaluation.id">
                                                    <div ng-bind-html="evaluation.name | highlight: $select.search"></div>
                                                    <small>
                                                        Type: {{evaluation.componentType.name}}
                                                    </small>
                                                </ui-select-choices>
                                            </ui-select>
                                            <span class="input-group-addon"><i class="input-error glyphicon glyphicon-exclamation-sign"></i> <i class="input-ok fa fa-check-circle"></i></span>
                                        </div>
                                    </div>
                                    <div class="well">
                                        Other CRUD Fields

                                        private String name;
                                        private String projectNumber;

                                        private double soldValue;
                                        private double soldLabourValue;
                                        private double soldExpenseValue;
                                        private double soldMaterialValue;
                                        private double soldContingencyValue;
                                        private double contractValue;
                                        private Date projectStartDate;
                                        private Date projectEndDate;

                                    </div>
                            </div>

                        </div>
                        </div>
                    </uib-tab>

                <uib-tab index="1">
                    <uib-tab-heading class="ng-scope">
                        <i class="badge">Stuff here</i>
                    </uib-tab-heading>

                    <div class="panel-body">

                    </div>
                </uib-tab>
                <uib-tab index="2" heading='Stuff'>
                        <div class="panel-body">
                        </div>
                </uib-tab>
                    <uib-tab index="3" heading='More Stuff'>
                        <div class="panel">
                            <div class="panel-body">

                            </div>
                        </div>
                    </uib-tab>

            </uib-tabset>

    <div class="panel-footer form-panel-footer">
        <uib-alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)"><span
                ng-bind-html="alert.msg"></span></uib-alert>
        <div class="uib-button-bar">
            <a class="btn btn-sm btn-danger"
               mwl-confirm
               title="Please confirm you want to delete this succession plan"
               message="Are you sure you want to delete this succession plan ?"
               cancel-text="Cancel"
               animation="true"
               placement="top"
               on-confirm="vm.delete()"
               confirm-button-type="danger"
               cancel-button-type="default" ><i class="glyphicon glyphicon-trash" ></i> Delete</a>
            <button class="btn btn-sm btn-primary" ng-click="vm.back()"><i class="glyphicon glyphicon-remove"></i> Back</button>
            <button class="btn btn-sm btn-success" ng-click="vm.save()"  ><i class="fa fa-save"></i> Save</button>
        </div>
    </div>
</div>
</div>



