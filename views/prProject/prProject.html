<ng-include src="'views/notifications/growl.html'"></ng-include>

<div class="container margin-top-20 " ng-init="vm.init()">
    <div class="panel panel-primary">
        <div class="panel-heading">
            {{vm.succession.status | translate}} {{vm.prProject.name}}

            <div class="text-right col-xs-12" style="margin-top: -20px;">
                <label class="pull-right" ng-if="vm.rev">Revision {{vm.rev.timestamp | date : 'yyyy-mm-dd HH:mm'}}</label>
                <button class="btn btn-sm btn-primary action" ng-class="{'active' : vm.succession.status=='ACTIVE'}">
                    <i class="fa fa-check"></i> Active
                </button>

            </div>

        </div>
            <uib-tabset active="active">
                <uib-tab index="0" heading='Properties'>
                        <div class="panel-body">
                            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                <h5><i class="fa  fa-bars"></i> Properties</h5>
                                <div class="well well-lg">
                                    <ng-include src="'views/customFields/customFieldsTemplate.html'"></ng-include>
                                    <div class="form-group">
                                        <label>Client</label>
                                        <div class="input-group">
                                            <ui-select ng-model="vm.prProject.client"
                                                       theme="bootstrap"
                                                       required
                                                       reset-search-input="false"
                                                       title="Choose an evaluation">
                                                <ui-select-match allow-clear='true' placeholder="Enter a project director...">{{$select.selected.name}}</ui-select-match>
                                                <ui-select-choices repeat="client in vm.client  | filter : $select.search track by client.id">
                                                    <div ng-bind-html="client.name | highlight: $select.search"></div>
                                                </ui-select-choices>
                                            </ui-select>
                                            <span class="input-group-addon"><i class="input-error glyphicon glyphicon-exclamation-sign"></i> <i class="input-ok fa fa-check-circle"></i></span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Project Director</label>
                                        <div class="input-group">
                                            <ui-select ng-model="vm.prProject.projectDirector"
                                                       theme="bootstrap"
                                                       required
                                                       reset-search-input="false"
                                                       title="Choose an evaluation">
                                                <ui-select-match allow-clear='true' placeholder="Enter a project director...">{{$select.selected.firstName +' ' + $select.selected.surname}}</ui-select-match>
                                                <ui-select-choices repeat="users in vm.users  | filter : $select.search track by user.id">
                                                    <div ng-bind-html="user.firstName +' '+user.surname | highlight: $select.search"></div>
                                                </ui-select-choices>
                                            </ui-select>
                                            <span class="input-group-addon"><i class="input-error glyphicon glyphicon-exclamation-sign"></i> <i class="input-ok fa fa-check-circle"></i></span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Project Leader</label>
                                        <div class="input-group">
                                            <ui-select ng-model="vm.prProject.projectLeader"
                                                       theme="bootstrap"
                                                       required
                                                       reset-search-input="false"
                                                       title="Choose an evaluation">
                                                <ui-select-match allow-clear='true' placeholder="Enter an evaluation...">{{$select.selected.firstName + ' '+ $select.selected.surname}}</ui-select-match>
                                                <ui-select-choices repeat="evaluation in vm.evaluations  | filter : $select.search track by evaluation.id">
                                                    <div ng-bind-html="evaluation.name | highlight: $select.search"></div>
                                                    <small>
                                                        Type: {{evaluation.componentType.name}}
                                                    </small>
                                                </ui-select-choices>
                                            </ui-select>
                                            <span class="input-group-addon"><i class="input-error glyphicon glyphicon-exclamation-sign"></i> <i class="input-ok fa fa-check-circle"></i></span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Project Manager</label>
                                        <div class="input-group">
                                            <ui-select ng-model="vm.prProject.projectManager"
                                                       theme="bootstrap"
                                                       required
                                                       reset-search-input="false"
                                                       title="Choose an evaluation">
                                                <ui-select-match allow-clear='true' placeholder="Enter an evaluation...">{{$select.selected.firstName + ' '+ $select.selected.surname}}</ui-select-match>
                                                <ui-select-choices repeat="evaluation in vm.evaluations  | filter : $select.search track by evaluation.id">
                                                    <div ng-bind-html="evaluation.name | highlight: $select.search"></div>
                                                    <small>
                                                        Type: {{evaluation.componentType.name}}
                                                    </small>
                                                </ui-select-choices>
                                            </ui-select>
                                            <span class="input-group-addon"><i class="input-error glyphicon glyphicon-exclamation-sign"></i> <i class="input-ok fa fa-check-circle"></i></span>
                                        </div>
                                    </div>
                                    <div class="well">
                                        Other CRUD Fields

                                        private String name;
                                        private String projectNumber;

                                        private double soldValue;
                                        private double soldLabourValue;
                                        private double soldExpenseValue;
                                        private double soldMaterialValue;
                                        private double soldContingencyValue;
                                        private double contractValue;
                                        private Date projectStartDate;
                                        private Date projectEndDate;

                                    </div>
                            </div>

                        </div>
                            <div class="col-xs-6">
                                <h5><i class="fa  fa-bars"></i> Properties</h5>
                                <div class="well well-lg">
                                    <div class="form-group">
                                        <label>Service Line</label>
                                        <div class="input-group">
                                            <input class="form-control" ng-model="vm.prProject.serviceLine"  required>
                                            <span class="input-group-addon"><i class="input-error glyphicon glyphicon-exclamation-sign"></i> <i class="input-ok fa fa-check-circle"></i></span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Product Group</label>
                                        <div class="input-group">
                                            <input class="form-control" ng-model="vm.prProject.productGroup"  required>
                                            <span class="input-group-addon"><i class="input-error glyphicon glyphicon-exclamation-sign"></i> <i class="input-ok fa fa-check-circle"></i></span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Project Type</label>
                                        <div class="input-group">
                                            <input class="form-control" ng-model="vm.prProject.projectType"  required>
                                            <span class="input-group-addon"><i class="input-error glyphicon glyphicon-exclamation-sign"></i> <i class="input-ok fa fa-check-circle"></i></span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Risk Category</label>
                                        <div class="input-group">
                                            <input class="form-control" ng-model="vm.prProject.risk"  required>
                                            <span class="input-group-addon"><i class="input-error glyphicon glyphicon-exclamation-sign"></i> <i class="input-ok fa fa-check-circle"></i></span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Project Start Date</label>
                                        <div class="input-group">
                                            <input class="form-control" ng-model="vm.prProject.projectStartDate"  required>
                                            <span class="input-group-addon"><i class="input-error glyphicon glyphicon-exclamation-sign"></i> <i class="input-ok fa fa-check-circle"></i></span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Project End Date</label>
                                        <div class="input-group">
                                            <input class="form-control" ng-model="vm.prProject.projectEndDate"  required>
                                            <span class="input-group-addon"><i class="input-error glyphicon glyphicon-exclamation-sign"></i> <i class="input-ok fa fa-check-circle"></i></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </uib-tab>

                <uib-tab index="1">
                    <uib-tab-heading class="ng-scope">
                        Values
                    </uib-tab-heading>

                    <div class="panel-body">
                        <div class="row">
                            <div class="col-xs-6">
                                <h5><i class="fa  fa-bars"></i> Properties</h5>
                                <div class="well well-lg">
                                    <div class="form-group">
                                        <label>Status</label>
                                        <label class="form-control">{{vm.prProject.status | translate}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label>Recognised Revenue Ltd</label>
                                        <label class="form-control">{{vm.prProject.recognisedRevenueLTD}} {{vm.prProject.currency}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label>Invoiced To Date</label>
                                        <label class="form-control">{{vm.prProject.invoicedToDate}} {{vm.prProject.currency}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label>Currency</label>
                                        <label class="form-control">{{vm.prProject.currency}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label>Contract Value</label>
                                        <label class="form-control">{{vm.prProject.contractValue}} {{vm.prProject.currency}}</label>
                                    </div>

                                </div>
                            </div>

                            <div class="col-xs-6">
                                <h5><i class="fa  fa-bars"></i> As Sold</h5>
                                <div class="well well-lg">
                                    <div class="form-group">
                                        <label>As Sold Order Value</label>
                                        <label class="form-control">{{vm.prProject.asSoldOrderValue}} {{vm.prProject.currency}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label>As Sold Contingency</label>
                                        <label class="form-control">{{vm.prProject.asSoldContingencyValue}} {{vm.prProject.currency}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label>As Sold Labour</label>
                                        <label class="form-control">{{vm.prProject.asSoldLabourValue}} {{vm.prProject.currency}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label>As Sold Expenses</label>
                                        <label class="form-control">{{vm.prProject.asSoldExpensesValue}} {{vm.prProject.currency}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label>As Sold Materials</label>
                                        <label class="form-control">{{vm.prProject.asSoldMaterialsValue}} {{vm.prProject.currency}}</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-6">
                                <h5><i class="fa  fa-bars"></i> Cost</h5>
                                <div class="well well-lg">
                                    <div class="form-group">
                                        <label>Cost To Date Contingency</label>
                                        <label class="form-control">{{vm.prProject.costToDateContingency}} {{vm.prProject.currency}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label>Cost to Date Labour</label>
                                        <label class="form-control">{{vm.prProject.costToDateLabour}} {{vm.prProject.currency}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label>Cost to Date Expenses</label>
                                        <label class="form-control">{{vm.prProject.costToDateExpenses}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label>Cost to Date Materials</label>
                                        <label class="form-control">{{vm.prProject.costToDateMaterials}} {{vm.prProject.currency}}</label>
                                    </div>

                                </div>
                            </div>

                            <div class="col-xs-6">
                                <h5><i class="fa  fa-bars"></i> Forecast</h5>
                                <div class="well well-lg">
                                    <div class="form-group">
                                        <label>Forecast Contingency</label>
                                        <label class="form-control">{{vm.prProject.forecastContingency}} {{vm.prProject.currency}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label>Forecast Labour</label>
                                        <label class="form-control">{{vm.prProject.forecastLabour}} {{vm.prProject.currency}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label>Forecast Expenses</label>
                                        <label class="form-control">{{vm.prProject.forecastExpenses}} {{vm.prProject.currency}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label>Forecast Materials</label>
                                        <label class="form-control">{{vm.prProject.forecastMaterials}} {{vm.prProject.currency}}</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab index="2" heading='Stuff'>
                        <div class="panel-body">
                        </div>
                </uib-tab>
                    <uib-tab index="3" heading='More Stuff'>
                        <div class="panel">
                            <div class="panel-body">

                            </div>
                        </div>
                    </uib-tab>

            </uib-tabset>

    <div class="panel-footer form-panel-footer">
        <uib-alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)"><span
                ng-bind-html="alert.msg"></span></uib-alert>
        <div class="uib-button-bar">
            <a class="btn btn-sm btn-danger"
               mwl-confirm
               title="Please confirm you want to delete this succession plan"
               message="Are you sure you want to delete this succession plan ?"
               cancel-text="Cancel"
               animation="true"
               placement="top"
               on-confirm="vm.delete()"
               confirm-button-type="danger"
               cancel-button-type="default" ><i class="glyphicon glyphicon-trash" ></i> Delete</a>
            <button class="btn btn-sm btn-primary" ng-click="vm.back()"><i class="glyphicon glyphicon-remove"></i> Back</button>
            <button class="btn btn-sm btn-success" ng-click="vm.save()"  ><i class="fa fa-save"></i> Save</button>
        </div>
    </div>
</div>
</div>



